/*
 * =====================================================================================
 *
 *       Filename:  sql_token.h
 *
 *    Description:  
 *
 *        Version:  1.0
 *        Created:  09/27/2014 12:37:12 AM
 *       Revision:  none
 *       Compiler:  gcc
 *
 *         Author:  YOUR NAME (), 
 *        Company:  
 *
 * =====================================================================================
 */
#ifndef __SQL_TOKEN_H__
#define __SQL_TOKEN_H__
#include <algorithm>
#include <cstdio>
#include <iostream>
#include <map>
#include <sstream>
#include <string>
#include <vector>
using namespace std;
/**
 * known token ids 
 */
typedef enum {
	TK_UNKNOWN,

	TK_LE,
	TK_GE,
	TK_LT,
	TK_GT,
	TK_EQ,
	TK_NE,

	TK_STRING,
	TK_COMMENT,
	TK_LITERAL,
	TK_FUNCTION,

	TK_INTEGER,
	TK_FLOAT,
	TK_DOT,
	TK_COMMA,

	TK_ASSIGN,
	TK_OBRACE,
	TK_CBRACE,
	TK_SEMICOLON,

	TK_STAR,
	TK_PLUS,
	TK_MINUS,
	TK_DIV,

	TK_BITWISE_AND,
	TK_BITWISE_OR,
	TK_BITWISE_XOR,

	TK_LOGICAL_AND,
	TK_LOGICAL_OR,

	/** a generated list of tokens */
	TK_SQL_ACCESSIBLE,
	TK_SQL_ACTION,
	TK_SQL_ADD,
	TK_SQL_ALL,
	TK_SQL_ALTER,
	TK_SQL_ANALYZE,
	TK_SQL_AND,
	TK_SQL_AS,
	TK_SQL_ASC,
	TK_SQL_ASENSITIVE,
	TK_SQL_BEFORE,
	TK_SQL_BETWEEN,
	TK_SQL_BIGINT,
	TK_SQL_BINARY,
	TK_SQL_BIT,
	TK_SQL_BLOB,
	TK_SQL_BOTH,
	TK_SQL_BY,
	TK_SQL_CALL,
	TK_SQL_CASCADE,
	TK_SQL_CASE,
	TK_SQL_CHANGE,
	TK_SQL_CHAR,
	TK_SQL_CHARACTER,
	TK_SQL_CHECK,
	TK_SQL_COLLATE,
	TK_SQL_COLUMN,
	TK_SQL_CONDITION,
	TK_SQL_CONSTRAINT,
	TK_SQL_CONTINUE,
	TK_SQL_CONVERT,
	TK_SQL_CREATE,
	TK_SQL_CROSS,
	TK_SQL_CURRENT_DATE,
	TK_SQL_CURRENT_TIME,
	TK_SQL_CURRENT_TIMESTAMP,
	TK_SQL_CURRENT_USER,
	TK_SQL_CURSOR,
	TK_SQL_DATABASE,
	TK_SQL_DATABASES,
	TK_SQL_DATE,
	TK_SQL_DAY_HOUR,
	TK_SQL_DAY_MICROSECOND,
	TK_SQL_DAY_MINUTE,
	TK_SQL_DAY_SECOND,
	TK_SQL_DEC,
	TK_SQL_DECIMAL,
	TK_SQL_DECLARE,
	TK_SQL_DEFAULT,
	TK_SQL_DELAYED,
	TK_SQL_DELETE,
	TK_SQL_DESC,
	TK_SQL_DESCRIBE,
	TK_SQL_DETERMINISTIC,
	TK_SQL_DISTINCT,
	TK_SQL_DISTINCTROW,
	TK_SQL_DIV,
	TK_SQL_DOUBLE,
	TK_SQL_DROP,
	TK_SQL_DUAL,
	TK_SQL_EACH,
	TK_SQL_ELSE,
	TK_SQL_ELSEIF,
	TK_SQL_ENCLOSED,
	TK_SQL_ENUM,
	TK_SQL_ESCAPED,
	TK_SQL_EXISTS,
	TK_SQL_EXIT,
	TK_SQL_EXPLAIN,
	TK_SQL_FALSE,
	TK_SQL_FETCH,
	TK_SQL_FLOAT,
	TK_SQL_FLOAT4,
	TK_SQL_FLOAT8,
	TK_SQL_FOR,
	TK_SQL_FORCE,
	TK_SQL_FOREIGN,
	TK_SQL_FROM,
	TK_SQL_FULLTEXT,
	TK_SQL_GRANT,
	TK_SQL_GROUP,
	TK_SQL_HAVING,
	TK_SQL_HIGH_PRIORITY,
	TK_SQL_HOUR_MICROSECOND,
	TK_SQL_HOUR_MINUTE,
	TK_SQL_HOUR_SECOND,
	TK_SQL_IF,
	TK_SQL_IGNORE,
	TK_SQL_IN,
	TK_SQL_INDEX,
	TK_SQL_INFILE,
	TK_SQL_INNER,
	TK_SQL_INOUT,
	TK_SQL_INSENSITIVE,
	TK_SQL_INSERT,
	TK_SQL_INT,
	TK_SQL_INT1,
	TK_SQL_INT2,
	TK_SQL_INT3,
	TK_SQL_INT4,
	TK_SQL_INT8,
	TK_SQL_INTEGER,
	TK_SQL_INTERVAL,
	TK_SQL_INTO,
	TK_SQL_IS,
	TK_SQL_ITERATE,
	TK_SQL_JOIN,
	TK_SQL_KEY,
	TK_SQL_KEYS,
	TK_SQL_KILL,
	TK_SQL_LEADING,
	TK_SQL_LEAVE,
	TK_SQL_LEFT,
	TK_SQL_LIKE,
	TK_SQL_LIMIT,
	TK_SQL_LINEAR,
	TK_SQL_LINES,
	TK_SQL_LOAD,
	TK_SQL_LOCALTIME,
	TK_SQL_LOCALTIMESTAMP,
	TK_SQL_LOCK,
	TK_SQL_LONG,
	TK_SQL_LONGBLOB,
	TK_SQL_LONGTEXT,
	TK_SQL_LOOP,
	TK_SQL_LOW_PRIORITY,
	TK_SQL_MASTER_SSL_VERIFY_SERVER_CERT,
	TK_SQL_MATCH,
	TK_SQL_MEDIUMBLOB,
	TK_SQL_MEDIUMINT,
	TK_SQL_MEDIUMTEXT,
	TK_SQL_MIDDLEINT,
	TK_SQL_MINUTE_MICROSECOND,
	TK_SQL_MINUTE_SECOND,
	TK_SQL_MOD,
	TK_SQL_MODIFIES,
	TK_SQL_NATURAL,
	TK_SQL_NO,
	TK_SQL_NOT,
	TK_SQL_NO_WRITE_TO_BINLOG,
	TK_SQL_NULL,
	TK_SQL_NUMERIC,
	TK_SQL_ON,
	TK_SQL_OPTIMIZE,
	TK_SQL_OPTION,
	TK_SQL_OPTIONALLY,
	TK_SQL_OR,
	TK_SQL_ORDER,
	TK_SQL_OUT,
	TK_SQL_OUTER,
	TK_SQL_OUTFILE,
	TK_SQL_PRECISION,
	TK_SQL_PRIMARY,
	TK_SQL_PROCEDURE,
	TK_SQL_PURGE,
	TK_SQL_RANGE,
	TK_SQL_READ,
	TK_SQL_READ_ONLY,
	TK_SQL_READS,
	TK_SQL_READ_WRITE,
	TK_SQL_REAL,
	TK_SQL_REFERENCES,
	TK_SQL_REGEXP,
	TK_SQL_RELEASE,
	TK_SQL_RENAME,
	TK_SQL_REPEAT,
	TK_SQL_REPLACE,
	TK_SQL_REQUIRE,
	TK_SQL_RESTRICT,
	TK_SQL_RETURN,
	TK_SQL_REVOKE,
	TK_SQL_RIGHT,
	TK_SQL_RLIKE,
	TK_SQL_SCHEMA,
	TK_SQL_SCHEMAS,
	TK_SQL_SECOND_MICROSECOND,
	TK_SQL_SELECT,
	TK_SQL_SENSITIVE,
	TK_SQL_SEPARATOR,
	TK_SQL_SET,
	TK_SQL_SHOW,
	TK_SQL_SMALLINT,
	TK_SQL_SPATIAL,
	TK_SQL_SPECIFIC,
	TK_SQL_SQL,
	TK_SQL_SQL_BIG_RESULT,
	TK_SQL_SQL_CALC_FOUND_ROWS,
	TK_SQL_SQLEXCEPTION,
	TK_SQL_SQL_SMALL_RESULT,
	TK_SQL_SQLSTATE,
	TK_SQL_SQLWARNING,
	TK_SQL_SSL,
	TK_SQL_STARTING,
	TK_SQL_STRAIGHT_JOIN,
	TK_SQL_TABLE,
	TK_SQL_TERMINATED,
	TK_SQL_TEXT,
	TK_SQL_THEN,
	TK_SQL_TIME,
	TK_SQL_TIMESTAMP,
	TK_SQL_TINYBLOB,
	TK_SQL_TINYINT,
	TK_SQL_TINYTEXT,
	TK_SQL_TO,
	TK_SQL_TRAILING,
	TK_SQL_TRIGGER,
	TK_SQL_TRUE,
	TK_SQL_UNDO,
	TK_SQL_UNION,
	TK_SQL_UNIQUE,
	TK_SQL_UNLOCK,
	TK_SQL_UNSIGNED,
	TK_SQL_UPDATE,
	TK_SQL_USAGE,
	TK_SQL_USE,
	TK_SQL_USING,
	TK_SQL_UTC_DATE,
	TK_SQL_UTC_TIME,
	TK_SQL_UTC_TIMESTAMP,
	TK_SQL_VALUES,
	TK_SQL_VARBINARY,
	TK_SQL_VARCHAR,
	TK_SQL_VARCHARACTER,
	TK_SQL_VARYING,
	TK_SQL_WHEN,
	TK_SQL_WHERE,
	TK_SQL_WHILE,
	TK_SQL_WITH,
	TK_SQL_WRITE,
	TK_SQL_X509,
	TK_SQL_XOR,
	TK_SQL_YEAR_MONTH,
	TK_SQL_ZEROFILL,
	
	TK_COMMENT_MYSQL,

	TK_LAST_TOKEN
} sql_token_id;

#define S(x) { #x, sizeof(#x) - 1 }

/**
 * this list has to be kept in sync with the tokens itself 
 *
 * maps token_ids (array-pos) to token-names
 */
static struct {
	const char *token;
	size_t token_len;
} token_names[] = {
	S(TK_UNKNOWN),
	S(TK_LE),
	S(TK_GE),
	S(TK_LT),
	S(TK_GT),
	S(TK_EQ),
	S(TK_NE),
	S(TK_STRING),
	S(TK_COMMENT),
	S(TK_LITERAL),
	S(TK_FUNCTION),

	S(TK_INTEGER),
	S(TK_FLOAT),
	S(TK_DOT),
	S(TK_COMMA),
	S(TK_ASSIGN),
	S(TK_OBRACE),
	S(TK_CBRACE),
	S(TK_SEMICOLON),
	S(TK_STAR),
	S(TK_PLUS),
	S(TK_MINUS),
	S(TK_DIV),

	S(TK_BITWISE_AND),
	S(TK_BITWISE_OR),
	S(TK_BITWISE_XOR),
	S(TK_LOGICAL_AND),
	S(TK_LOGICAL_OR),

	S(TK_SQL_ACCESSIBLE),
	S(TK_SQL_ACTION),
	S(TK_SQL_ADD),
	S(TK_SQL_ALL),
	S(TK_SQL_ALTER),
	S(TK_SQL_ANALYZE),
	S(TK_SQL_AND),
	S(TK_SQL_AS),
	S(TK_SQL_ASC),
	S(TK_SQL_ASENSITIVE),
	S(TK_SQL_BEFORE),
	S(TK_SQL_BETWEEN),
	S(TK_SQL_BIGINT),
	S(TK_SQL_BINARY),
	S(TK_SQL_BIT),
	S(TK_SQL_BLOB),
	S(TK_SQL_BOTH),
	S(TK_SQL_BY),
	S(TK_SQL_CALL),
	S(TK_SQL_CASCADE),
	S(TK_SQL_CASE),
	S(TK_SQL_CHANGE),
	S(TK_SQL_CHAR),
	S(TK_SQL_CHARACTER),
	S(TK_SQL_CHECK),
	S(TK_SQL_COLLATE),
	S(TK_SQL_COLUMN),
	S(TK_SQL_CONDITION),
	S(TK_SQL_CONSTRAINT),
	S(TK_SQL_CONTINUE),
	S(TK_SQL_CONVERT),
	S(TK_SQL_CREATE),
	S(TK_SQL_CROSS),
	S(TK_SQL_CURRENT_DATE),
	S(TK_SQL_CURRENT_TIME),
	S(TK_SQL_CURRENT_TIMESTAMP),
	S(TK_SQL_CURRENT_USER),
	S(TK_SQL_CURSOR),
	S(TK_SQL_DATABASE),
	S(TK_SQL_DATABASES),
	S(TK_SQL_DATE),
	S(TK_SQL_DAY_HOUR),
	S(TK_SQL_DAY_MICROSECOND),
	S(TK_SQL_DAY_MINUTE),
	S(TK_SQL_DAY_SECOND),
	S(TK_SQL_DEC),
	S(TK_SQL_DECIMAL),
	S(TK_SQL_DECLARE),
	S(TK_SQL_DEFAULT),
	S(TK_SQL_DELAYED),
	S(TK_SQL_DELETE),
	S(TK_SQL_DESC),
	S(TK_SQL_DESCRIBE),
	S(TK_SQL_DETERMINISTIC),
	S(TK_SQL_DISTINCT),
	S(TK_SQL_DISTINCTROW),
	S(TK_SQL_DIV),
	S(TK_SQL_DOUBLE),
	S(TK_SQL_DROP),
	S(TK_SQL_DUAL),
	S(TK_SQL_EACH),
	S(TK_SQL_ELSE),
	S(TK_SQL_ELSEIF),
	S(TK_SQL_ENCLOSED),
	S(TK_SQL_ENUM),
	S(TK_SQL_ESCAPED),
	S(TK_SQL_EXISTS),
	S(TK_SQL_EXIT),
	S(TK_SQL_EXPLAIN),
	S(TK_SQL_FALSE),
	S(TK_SQL_FETCH),
	S(TK_SQL_FLOAT),
	S(TK_SQL_FLOAT4),
	S(TK_SQL_FLOAT8),
	S(TK_SQL_FOR),
	S(TK_SQL_FORCE),
	S(TK_SQL_FOREIGN),
	S(TK_SQL_FROM),
	S(TK_SQL_FULLTEXT),
	S(TK_SQL_GRANT),
	S(TK_SQL_GROUP),
	S(TK_SQL_HAVING),
	S(TK_SQL_HIGH_PRIORITY),
	S(TK_SQL_HOUR_MICROSECOND),
	S(TK_SQL_HOUR_MINUTE),
	S(TK_SQL_HOUR_SECOND),
	S(TK_SQL_IF),
	S(TK_SQL_IGNORE),
	S(TK_SQL_IN),
	S(TK_SQL_INDEX),
	S(TK_SQL_INFILE),
	S(TK_SQL_INNER),
	S(TK_SQL_INOUT),
	S(TK_SQL_INSENSITIVE),
	S(TK_SQL_INSERT),
	S(TK_SQL_INT),
	S(TK_SQL_INT1),
	S(TK_SQL_INT2),
	S(TK_SQL_INT3),
	S(TK_SQL_INT4),
	S(TK_SQL_INT8),
	S(TK_SQL_INTEGER),
	S(TK_SQL_INTERVAL),
	S(TK_SQL_INTO),
	S(TK_SQL_IS),
	S(TK_SQL_ITERATE),
	S(TK_SQL_JOIN),
	S(TK_SQL_KEY),
	S(TK_SQL_KEYS),
	S(TK_SQL_KILL),
	S(TK_SQL_LEADING),
	S(TK_SQL_LEAVE),
	S(TK_SQL_LEFT),
	S(TK_SQL_LIKE),
	S(TK_SQL_LIMIT),
	S(TK_SQL_LINEAR),
	S(TK_SQL_LINES),
	S(TK_SQL_LOAD),
	S(TK_SQL_LOCALTIME),
	S(TK_SQL_LOCALTIMESTAMP),
	S(TK_SQL_LOCK),
	S(TK_SQL_LONG),
	S(TK_SQL_LONGBLOB),
	S(TK_SQL_LONGTEXT),
	S(TK_SQL_LOOP),
	S(TK_SQL_LOW_PRIORITY),
	S(TK_SQL_MASTER_SSL_VERIFY_SERVER_CERT),
	S(TK_SQL_MATCH),
	S(TK_SQL_MEDIUMBLOB),
	S(TK_SQL_MEDIUMINT),
	S(TK_SQL_MEDIUMTEXT),
	S(TK_SQL_MIDDLEINT),
	S(TK_SQL_MINUTE_MICROSECOND),
	S(TK_SQL_MINUTE_SECOND),
	S(TK_SQL_MOD),
	S(TK_SQL_MODIFIES),
	S(TK_SQL_NATURAL),
	S(TK_SQL_NO),
	S(TK_SQL_NOT),
	S(TK_SQL_NO_WRITE_TO_BINLOG),
	S(TK_SQL_NULL),
	S(TK_SQL_NUMERIC),
	S(TK_SQL_ON),
	S(TK_SQL_OPTIMIZE),
	S(TK_SQL_OPTION),
	S(TK_SQL_OPTIONALLY),
	S(TK_SQL_OR),
	S(TK_SQL_ORDER),
	S(TK_SQL_OUT),
	S(TK_SQL_OUTER),
	S(TK_SQL_OUTFILE),
	S(TK_SQL_PRECISION),
	S(TK_SQL_PRIMARY),
	S(TK_SQL_PROCEDURE),
	S(TK_SQL_PURGE),
	S(TK_SQL_RANGE),
	S(TK_SQL_READ),
	S(TK_SQL_READ_ONLY),
	S(TK_SQL_READS),
	S(TK_SQL_READ_WRITE),
	S(TK_SQL_REAL),
	S(TK_SQL_REFERENCES),
	S(TK_SQL_REGEXP),
	S(TK_SQL_RELEASE),
	S(TK_SQL_RENAME),
	S(TK_SQL_REPEAT),
	S(TK_SQL_REPLACE),
	S(TK_SQL_REQUIRE),
	S(TK_SQL_RESTRICT),
	S(TK_SQL_RETURN),
	S(TK_SQL_REVOKE),
	S(TK_SQL_RIGHT),
	S(TK_SQL_RLIKE),
	S(TK_SQL_SCHEMA),
	S(TK_SQL_SCHEMAS),
	S(TK_SQL_SECOND_MICROSECOND),
	S(TK_SQL_SELECT),
	S(TK_SQL_SENSITIVE),
	S(TK_SQL_SEPARATOR),
	S(TK_SQL_SET),
	S(TK_SQL_SHOW),
	S(TK_SQL_SMALLINT),
	S(TK_SQL_SPATIAL),
	S(TK_SQL_SPECIFIC),
	S(TK_SQL_SQL),
	S(TK_SQL_SQL_BIG_RESULT),
	S(TK_SQL_SQL_CALC_FOUND_ROWS),
	S(TK_SQL_SQLEXCEPTION),
	S(TK_SQL_SQL_SMALL_RESULT),
	S(TK_SQL_SQLSTATE),
	S(TK_SQL_SQLWARNING),
	S(TK_SQL_SSL),
	S(TK_SQL_STARTING),
	S(TK_SQL_STRAIGHT_JOIN),
	S(TK_SQL_TABLE),
	S(TK_SQL_TERMINATED),
	S(TK_SQL_TEXT),
	S(TK_SQL_THEN),
	S(TK_SQL_TIME),
	S(TK_SQL_TIMESTAMP),
	S(TK_SQL_TINYBLOB),
	S(TK_SQL_TINYINT),
	S(TK_SQL_TINYTEXT),
	S(TK_SQL_TO),
	S(TK_SQL_TRAILING),
	S(TK_SQL_TRIGGER),
	S(TK_SQL_TRUE),
	S(TK_SQL_UNDO),
	S(TK_SQL_UNION),
	S(TK_SQL_UNIQUE),
	S(TK_SQL_UNLOCK),
	S(TK_SQL_UNSIGNED),
	S(TK_SQL_UPDATE),
	S(TK_SQL_USAGE),
	S(TK_SQL_USE),
	S(TK_SQL_USING),
	S(TK_SQL_UTC_DATE),
	S(TK_SQL_UTC_TIME),
	S(TK_SQL_UTC_TIMESTAMP),
	S(TK_SQL_VALUES),
	S(TK_SQL_VARBINARY),
	S(TK_SQL_VARCHAR),
	S(TK_SQL_VARCHARACTER),
	S(TK_SQL_VARYING),
	S(TK_SQL_WHEN),
	S(TK_SQL_WHERE),
	S(TK_SQL_WHILE),
	S(TK_SQL_WITH),
	S(TK_SQL_WRITE),
	S(TK_SQL_X509),
	S(TK_SQL_XOR),
	S(TK_SQL_YEAR_MONTH),
	S(TK_SQL_ZEROFILL),
	
	S(TK_COMMENT_MYSQL),

	{ NULL, 0 }
};
#undef S

/**
 * get the name for a token-id
 */
inline const char *sql_token_get_name(sql_token_id token_id, size_t *name_len) {
	if (token_id >= TK_LAST_TOKEN) return NULL;

	if (sizeof(token_names)/sizeof(token_names[0]) != TK_LAST_TOKEN + 1) {
		//g_error("sql_token_get_name() is out of sync [%"G_GSIZE_FORMAT" != %d]", sizeof(token_names)/sizeof(token_names[0]), TK_LAST_TOKEN + 1);
	}

	if (name_len) {
		*name_len = token_names[token_id].token_len;
	}

	return token_names[token_id].token;
}

inline int sql_token_get_last_id() {
	return (sizeof(token_names)/sizeof(token_names[0])) - 1; /* the last one is not a token */
}

static sql_token_id sql_keywords[] = {
	TK_SQL_ACCESSIBLE /* 28 */,
	TK_SQL_ACTION /* 29 */,
	TK_SQL_ADD /* 30 */,
	TK_SQL_ALL /* 31 */,
	TK_SQL_ALTER /* 32 */,
	TK_SQL_ANALYZE /* 33 */,
	TK_SQL_AND /* 34 */,
	TK_SQL_AS /* 35 */,
	TK_SQL_ASC /* 36 */,
	TK_SQL_ASENSITIVE /* 37 */,
	TK_SQL_BEFORE /* 38 */,
	TK_SQL_BETWEEN /* 39 */,
	TK_SQL_BIGINT /* 40 */,
	TK_SQL_BINARY /* 41 */,
	TK_SQL_BIT /* 42 */,
	TK_SQL_BLOB /* 43 */,
	TK_SQL_BOTH /* 44 */,
	TK_SQL_BY /* 45 */,
	TK_SQL_CALL /* 46 */,
	TK_SQL_CASCADE /* 47 */,
	TK_SQL_CASE /* 48 */,
	TK_SQL_CHANGE /* 49 */,
	TK_SQL_CHAR /* 50 */,
	TK_SQL_CHARACTER /* 51 */,
	TK_SQL_CHECK /* 52 */,
	TK_SQL_COLLATE /* 53 */,
	TK_SQL_COLUMN /* 54 */,
	TK_SQL_CONDITION /* 55 */,
	TK_SQL_CONSTRAINT /* 56 */,
	TK_SQL_CONTINUE /* 57 */,
	TK_SQL_CONVERT /* 58 */,
	TK_SQL_CREATE /* 59 */,
	TK_SQL_CROSS /* 60 */,
	TK_SQL_CURRENT_DATE /* 61 */,
	TK_SQL_CURRENT_TIME /* 62 */,
	TK_SQL_CURRENT_TIMESTAMP /* 63 */,
	TK_SQL_CURRENT_USER /* 64 */,
	TK_SQL_CURSOR /* 65 */,
	TK_SQL_DATABASE /* 66 */,
	TK_SQL_DATABASES /* 67 */,
	TK_SQL_DATE /* 68 */,
	TK_SQL_DAY_HOUR /* 69 */,
	TK_SQL_DAY_MICROSECOND /* 70 */,
	TK_SQL_DAY_MINUTE /* 71 */,
	TK_SQL_DAY_SECOND /* 72 */,
	TK_SQL_DEC /* 73 */,
	TK_SQL_DECIMAL /* 74 */,
	TK_SQL_DECLARE /* 75 */,
	TK_SQL_DEFAULT /* 76 */,
	TK_SQL_DELAYED /* 77 */,
	TK_SQL_DELETE /* 78 */,
	TK_SQL_DESC /* 79 */,
	TK_SQL_DESCRIBE /* 80 */,
	TK_SQL_DETERMINISTIC /* 81 */,
	TK_SQL_DISTINCT /* 82 */,
	TK_SQL_DISTINCTROW /* 83 */,
	TK_SQL_DIV /* 84 */,
	TK_SQL_DOUBLE /* 85 */,
	TK_SQL_DROP /* 86 */,
	TK_SQL_DUAL /* 87 */,
	TK_SQL_EACH /* 88 */,
	TK_SQL_ELSE /* 89 */,
	TK_SQL_ELSEIF /* 90 */,
	TK_SQL_ENCLOSED /* 91 */,
	TK_SQL_ENUM /* 92 */,
	TK_SQL_ESCAPED /* 93 */,
	TK_SQL_EXISTS /* 94 */,
	TK_SQL_EXIT /* 95 */,
	TK_SQL_EXPLAIN /* 96 */,
	TK_SQL_FALSE /* 97 */,
	TK_SQL_FETCH /* 98 */,
	TK_SQL_FLOAT /* 99 */,
	TK_SQL_FLOAT4 /* 100 */,
	TK_SQL_FLOAT8 /* 101 */,
	TK_SQL_FOR /* 102 */,
	TK_SQL_FORCE /* 103 */,
	TK_SQL_FOREIGN /* 104 */,
	TK_SQL_FROM /* 105 */,
	TK_SQL_FULLTEXT /* 106 */,
	TK_SQL_GRANT /* 107 */,
	TK_SQL_GROUP /* 108 */,
	TK_SQL_HAVING /* 109 */,
	TK_SQL_HIGH_PRIORITY /* 110 */,
	TK_SQL_HOUR_MICROSECOND /* 111 */,
	TK_SQL_HOUR_MINUTE /* 112 */,
	TK_SQL_HOUR_SECOND /* 113 */,
	TK_SQL_IF /* 114 */,
	TK_SQL_IGNORE /* 115 */,
	TK_SQL_IN /* 116 */,
	TK_SQL_INDEX /* 117 */,
	TK_SQL_INFILE /* 118 */,
	TK_SQL_INNER /* 119 */,
	TK_SQL_INOUT /* 120 */,
	TK_SQL_INSENSITIVE /* 121 */,
	TK_SQL_INSERT /* 122 */,
	TK_SQL_INT /* 123 */,
	TK_SQL_INT1 /* 124 */,
	TK_SQL_INT2 /* 125 */,
	TK_SQL_INT3 /* 126 */,
	TK_SQL_INT4 /* 127 */,
	TK_SQL_INT8 /* 128 */,
	TK_SQL_INTEGER /* 129 */,
	TK_SQL_INTERVAL /* 130 */,
	TK_SQL_INTO /* 131 */,
	TK_SQL_IS /* 132 */,
	TK_SQL_ITERATE /* 133 */,
	TK_SQL_JOIN /* 134 */,
	TK_SQL_KEY /* 135 */,
	TK_SQL_KEYS /* 136 */,
	TK_SQL_KILL /* 137 */,
	TK_SQL_LEADING /* 138 */,
	TK_SQL_LEAVE /* 139 */,
	TK_SQL_LEFT /* 140 */,
	TK_SQL_LIKE /* 141 */,
	TK_SQL_LIMIT /* 142 */,
	TK_SQL_LINEAR /* 143 */,
	TK_SQL_LINES /* 144 */,
	TK_SQL_LOAD /* 145 */,
	TK_SQL_LOCALTIME /* 146 */,
	TK_SQL_LOCALTIMESTAMP /* 147 */,
	TK_SQL_LOCK /* 148 */,
	TK_SQL_LONG /* 149 */,
	TK_SQL_LONGBLOB /* 150 */,
	TK_SQL_LONGTEXT /* 151 */,
	TK_SQL_LOOP /* 152 */,
	TK_SQL_LOW_PRIORITY /* 153 */,
	TK_SQL_MASTER_SSL_VERIFY_SERVER_CERT /* 154 */,
	TK_SQL_MATCH /* 155 */,
	TK_SQL_MEDIUMBLOB /* 156 */,
	TK_SQL_MEDIUMINT /* 157 */,
	TK_SQL_MEDIUMTEXT /* 158 */,
	TK_SQL_MIDDLEINT /* 159 */,
	TK_SQL_MINUTE_MICROSECOND /* 160 */,
	TK_SQL_MINUTE_SECOND /* 161 */,
	TK_SQL_MOD /* 162 */,
	TK_SQL_MODIFIES /* 163 */,
	TK_SQL_NATURAL /* 164 */,
	TK_SQL_NO /* 165 */,
	TK_SQL_NO_WRITE_TO_BINLOG /* 167 */,
	TK_SQL_NOT /* 166 */,
	TK_SQL_NULL /* 168 */,
	TK_SQL_NUMERIC /* 169 */,
	TK_SQL_ON /* 170 */,
	TK_SQL_OPTIMIZE /* 171 */,
	TK_SQL_OPTION /* 172 */,
	TK_SQL_OPTIONALLY /* 173 */,
	TK_SQL_OR /* 174 */,
	TK_SQL_ORDER /* 175 */,
	TK_SQL_OUT /* 176 */,
	TK_SQL_OUTER /* 177 */,
	TK_SQL_OUTFILE /* 178 */,
	TK_SQL_PRECISION /* 179 */,
	TK_SQL_PRIMARY /* 180 */,
	TK_SQL_PROCEDURE /* 181 */,
	TK_SQL_PURGE /* 182 */,
	TK_SQL_RANGE /* 183 */,
	TK_SQL_READ /* 184 */,
	TK_SQL_READ_ONLY /* 185 */,
	TK_SQL_READ_WRITE /* 187 */,
	TK_SQL_READS /* 186 */,
	TK_SQL_REAL /* 188 */,
	TK_SQL_REFERENCES /* 189 */,
	TK_SQL_REGEXP /* 190 */,
	TK_SQL_RELEASE /* 191 */,
	TK_SQL_RENAME /* 192 */,
	TK_SQL_REPEAT /* 193 */,
	TK_SQL_REPLACE /* 194 */,
	TK_SQL_REQUIRE /* 195 */,
	TK_SQL_RESTRICT /* 196 */,
	TK_SQL_RETURN /* 197 */,
	TK_SQL_REVOKE /* 198 */,
	TK_SQL_RIGHT /* 199 */,
	TK_SQL_RLIKE /* 200 */,
	TK_SQL_SCHEMA /* 201 */,
	TK_SQL_SCHEMAS /* 202 */,
	TK_SQL_SECOND_MICROSECOND /* 203 */,
	TK_SQL_SELECT /* 204 */,
	TK_SQL_SENSITIVE /* 205 */,
	TK_SQL_SEPARATOR /* 206 */,
	TK_SQL_SET /* 207 */,
	TK_SQL_SHOW /* 208 */,
	TK_SQL_SMALLINT /* 209 */,
	TK_SQL_SPATIAL /* 210 */,
	TK_SQL_SPECIFIC /* 211 */,
	TK_SQL_SQL /* 212 */,
	TK_SQL_SQL_BIG_RESULT /* 213 */,
	TK_SQL_SQL_CALC_FOUND_ROWS /* 214 */,
	TK_SQL_SQL_SMALL_RESULT /* 216 */,
	TK_SQL_SQLEXCEPTION /* 215 */,
	TK_SQL_SQLSTATE /* 217 */,
	TK_SQL_SQLWARNING /* 218 */,
	TK_SQL_SSL /* 219 */,
	TK_SQL_STARTING /* 220 */,
	TK_SQL_STRAIGHT_JOIN /* 221 */,
	TK_SQL_TABLE /* 222 */,
	TK_SQL_TERMINATED /* 223 */,
	TK_SQL_TEXT /* 224 */,
	TK_SQL_THEN /* 225 */,
	TK_SQL_TIME /* 226 */,
	TK_SQL_TIMESTAMP /* 227 */,
	TK_SQL_TINYBLOB /* 228 */,
	TK_SQL_TINYINT /* 229 */,
	TK_SQL_TINYTEXT /* 230 */,
	TK_SQL_TO /* 231 */,
	TK_SQL_TRAILING /* 232 */,
	TK_SQL_TRIGGER /* 233 */,
	TK_SQL_TRUE /* 234 */,
	TK_SQL_UNDO /* 235 */,
	TK_SQL_UNION /* 236 */,
	TK_SQL_UNIQUE /* 237 */,
	TK_SQL_UNLOCK /* 238 */,
	TK_SQL_UNSIGNED /* 239 */,
	TK_SQL_UPDATE /* 240 */,
	TK_SQL_USAGE /* 241 */,
	TK_SQL_USE /* 242 */,
	TK_SQL_USING /* 243 */,
	TK_SQL_UTC_DATE /* 244 */,
	TK_SQL_UTC_TIME /* 245 */,
	TK_SQL_UTC_TIMESTAMP /* 246 */,
	TK_SQL_VALUES /* 247 */,
	TK_SQL_VARBINARY /* 248 */,
	TK_SQL_VARCHAR /* 249 */,
	TK_SQL_VARCHARACTER /* 250 */,
	TK_SQL_VARYING /* 251 */,
	TK_SQL_WHEN /* 252 */,
	TK_SQL_WHERE /* 253 */,
	TK_SQL_WHILE /* 254 */,
	TK_SQL_WITH /* 255 */,
	TK_SQL_WRITE /* 256 */,
	TK_SQL_X509 /* 257 */,
	TK_SQL_XOR /* 258 */,
	TK_SQL_YEAR_MONTH /* 259 */,
	TK_SQL_ZEROFILL /* 260 */
};

class sql_token{
public:
	sql_token_id token_id;
	string text;
	inline sql_token(sql_token_id id,string t){
		token_id=id;
		text=t;
	}
} ;

int sql_lex(string s,vector<sql_token> &tokens);
#endif
